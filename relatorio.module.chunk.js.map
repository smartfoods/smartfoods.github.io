{"version":3,"sources":["./src/app/pages/relatorio/pedido/relatario-pedido.component.html","./src/app/pages/relatorio/pedido/relatario-pedido.component.scss","./src/app/pages/relatorio/pedido/relatario-pedidocomponent.ts","./src/app/pages/relatorio/relatorio-routing.module.ts","./src/app/pages/relatorio/relatorio.module.ts","./src/app/pages/relatorio/relatorio.service.ts"],"names":[],"mappings":";;;;;AAAA,2yCAA2yC,SAAS,kLAAkL,iBAAiB,iRAAiR,mCAAmC,6MAA6M,8BAA8B,6MAA6M,4CAA4C,+NAA+N,aAAa,gPAAgP,aAAa,w1B;;;;;;;ACAxvF,wCAAwC,qBAAqB,EAAE,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA/D,uFAA8D;AAC9D,gGAA0D;AAC1D,sFAA6D;AAC7D,4FAAyC;AAGzC,oGAA4E;AAE5E,yFAAiE;AAUjE,IAAa,wBAAwB;IAAS,4CAAqB;IAKjE,kCACS,aAA4B,EAC5B,gBAAkC,EAClC,MAAc;QAHvB,YAIE,iBAAO,SACR;QAJQ,mBAAa,GAAb,aAAa,CAAe;QAC5B,sBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,YAAM,GAAN,MAAM,CAAQ;QALvB,WAAK,GAAgB,EAAE,CAAC;;IAOxB,CAAC;IAED,2CAAQ,GAAR;QACE,IAAI,CAAC,aAAa,EAAE;IACtB,CAAC;IAID,2CAAQ,GAAR,UAAS,MAAiB;QAA1B,iBAMC;QALC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,MAAM,CAAC;aACnC,SAAS,CACR,cAAI,IAAI,YAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAtB,CAAsB,EAC9B,eAAK,IAAI,8CAAiB,CAAC,WAAW,CAAC,KAAK,CAAC,EAApC,CAAoC,CAAC,CAAC;IAErD,CAAC;IACD,mDAAgB,GAAhB,UAAiB,MAAiB;QAAlC,iBAMC;QALC,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,MAAM,CAAC;aAC3C,SAAS,CACR,cAAI,IAAK,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAC,EACnD,eAAK,IAAI,8CAAiB,CAAC,WAAW,CAAC,KAAK,CAAC,EAApC,CAAoC,CAAC,CAAC;IAErD,CAAC;IAEO,gDAAa,GAArB;QAAA,iBAIC;QAHC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,SAAS,CACpC,aAAG,IAAM,KAAI,CAAC,KAAK,GAAG,GAAG,EAAC,CAAC,EAC3B,eAAK,IAAI,8CAAiB,CAAC,WAAW,CAAC,KAAK,CAAC,EAApC,CAAoC,CAAC,CAAC;IACnD,CAAC;IAEO,8CAAW,GAAnB,UAAoB,IAAS;QAC3B,IAAI,OAAO,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QACxC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACvB,CAAC;IAEH,+BAAC;AAAD,CAAC,CA5C6C,+CAAqB,GA4ClE;AA5CY,wBAAwB;IAJpC,gBAAS,CAAC;QACT,iGAAgD;QAChD,iGAAgD;KACjD,CAAC;yDAOwB,8BAAa,oBAAb,8BAAa,sDACV,oCAAgB,oBAAhB,oCAAgB,sDAC1B,eAAM,oBAAN,eAAM;GARZ,wBAAwB,CA4CpC;AA5CY,4DAAwB;;;;;;;;;;;;;;;;;;AClBrC,sFAAyC;AACzC,4FAAuD;AAEvD,uHAA8E;AAE9E,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,UAAU,EAAE,eAAe;QAC3B,SAAS,EAAE,MAAM;KAClB;IACD;QACE,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE;YACJ,KAAK,EAAE,QAAQ;SAChB;QACD,QAAQ,EAAE;YACR;gBACE,IAAI,EAAE,QAAQ;gBACd,SAAS,EAAE,oDAAwB;gBACnC,IAAI,EAAE;oBACJ,KAAK,EAAE,QAAQ;iBAChB;aACF;SACF;KACF;CACF,CAAC;AAMF,IAAa,sBAAsB;IAAnC;IAAsC,CAAC;IAAD,6BAAC;AAAD,CAAC;AAA1B,sBAAsB;IAJlC,eAAQ,CAAC;QACR,OAAO,EAAE,CAAC,qBAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,qBAAY,CAAC;KACxB,CAAC;GACW,sBAAsB,CAAI;AAA1B,wDAAsB;;;;;;;;;;;;;;;;;AChCnC,sFAAoD;AACpD,4FAA+C;AAC/C,yFAAkE;AAClE,+FAAwD;AAExD,6FAA6C;AAC7C,iFAAkD;AAElD,mGAA+E;AAC/E,2FAAuD;AAGvD,6GAAoD;AACpD,+EAAgD;AAEhD,uHAA8E;AAE9E,8GAAoE;AAEpE,gGAAuD;AACvD,uFAA2D;AAyB3D,IAAa,eAAe;IAA5B;IAA+B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAnB,eAAe;IAvB3B,eAAQ,CAAC;QACR,OAAO,EAAE;YACP,qBAAY;YACZ,mBAAW;YACX,mBAAW,CAAC,OAAO,EAAE;YACrB,+CAAqB;YACrB,2BAAmB;YACnB,uBAAgB;YAChB,iBAAU;YACV,iDAAsB;YACtB,4BAAW;YACX,mCAAc;YACd,mCAAc;YACd,sCAAkB;SACnB;QACD,YAAY,EAAE;YACZ,oDAAwB;SACzB;QACD,SAAS,EAAC;YACR,oCAAgB;YAChB,8BAAa;SACd;KACF,CAAC;GACW,eAAe,CAAI;AAAnB,0CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7C5B,0EAA+D;AAC/D,sFAA2C;AAC3C,+FAA+D;AAI/D,sFAA+D;AAM/D,IAAa,gBAAgB;IAAS,oCAAe;IAMnD,0BAAmB,IAAgB;QAAnC,YACE,iBAAO,SACR;QAFkB,UAAI,GAAJ,IAAI,CAAY;QAHnC,SAAG,GAAc,uBAAU,CAAC,OAAO,eAAY,CAAC;QAChD,qBAAe,GAAc,KAAI,CAAC,GAAG,YAAS,CAAC;;IAI/C,CAAC;IAED,mCAAQ,GAAR,UAAS,MAAiB;QACxB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAI,IAAI,CAAC,eAAe,SAAI,MAAM,CAAC,EAAE,SAAM,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;aAC5E,GAAG,CAAC,UAAC,GAAG;YACP,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC;QACrD,CAAC,CAAC;IAEN,CAAC;IAED,2CAAgB,GAAhB,UAAiB,MAAiB;QAChC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAI,IAAI,CAAC,eAAe,SAAI,MAAM,CAAC,EAAE,cAAW,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;aACjF,GAAG,CAAC,UAAC,GAAG;YACP,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC;QACrD,CAAC,CAAC;IAEN,CAAC;IAEH,uBAAC;AAAD,CAAC,CA1BqC,kCAAe,GA0BpD;AA1BY,gBAAgB;IAD5B,iBAAU,EAAE;yDAOc,iBAAU,oBAAV,iBAAU;GANxB,gBAAgB,CA0B5B;AA1BY,4CAAgB","file":"relatorio.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"col-md-1\\\"></div>\\r\\n<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n        <i class=\\\"fa fa-align-justify\\\"></i> Relatório de pedido\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <table class=\\\"table table-striped\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"text-center\\\" style=\\\"width: 3%\\\">\\r\\n                        <i class=\\\"fa fa-hashtag\\\"></i>\\r\\n                    </th>\\r\\n                    <th class=\\\"text-center\\\" style=\\\"width: 7%\\\">\\r\\n                        <i class=\\\"icon-people\\\"></i>\\r\\n                    </th>\\r\\n                    <th class=\\\"text-left\\\" style=\\\"width: 30%\\\">Cliente</th>\\r\\n                    <th class=\\\"text-left\\\" style=\\\"width: 10%\\\">CPF</th>\\r\\n                    <th class=\\\"text-left\\\" style=\\\"width: 10%\\\">Telefone</th>\\r\\n                    <th class=\\\"text-center\\\" style=\\\"width: 10%\\\">Status</th>\\r\\n                    <th class=\\\"text-center\\\" style=\\\"width: 10%\\\">Origem</th>\\r\\n                    <th class=\\\"text-center\\\" style=\\\"width: 15%\\\">Ação</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let item of items\\\">\\r\\n                    <td class=\\\"text-center\\\">\\r\\n                        {{item.id}}\\r\\n                    </td>\\r\\n                    <td class=\\\"text-center\\\">\\r\\n                        <div class=\\\"avatar\\\">\\r\\n                            <foto-uri id=\\\"{{item.cliente.id}}\\\" modulo=\\\"CLI\\\" classCss=\\\"img-avatar\\\" alt=\\\"Avatar\\\"></foto-uri>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td class=\\\"text-left-midle\\\">\\r\\n                        <div class=\\\"margin-top\\\">\\r\\n                            {{item.cliente.nmPessoa | uppercase}}\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td class=\\\"text-left-midle\\\">\\r\\n                        <div class=\\\"margin-top\\\">\\r\\n                            {{item.cliente.nrCpf | cpfMask}}\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td class=\\\"text-left-midle\\\">\\r\\n                        <div class=\\\"margin-top\\\">\\r\\n                            {{item.cliente.fone.nrFoneCelular | telefone}}\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td class=\\\"text-center\\\">\\r\\n                        <div class=\\\"margin-top\\\">\\r\\n                            <status-pedido status={{item.status}}></status-pedido>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td class=\\\"text-center\\\">\\r\\n                        <div class=\\\"margin-top\\\">\\r\\n                            <origem-pedido status={{item.origem}}></origem-pedido>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td class=\\\"text-center\\\">\\r\\n                        <div class=\\\"margin-top\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-primary cursor-hands\\\" (click)=\\\"gerarPDF(item)\\\">\\r\\n                                <i class=\\\"fa fa-file-pdf-o fa-lg\\\"></i>\\r\\n                            </button>\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-danger cursor-hands\\\" (click)=\\\"gerarEtiquetaPDF(item)\\\">\\r\\n                                    <i class=\\\"fa fa-check-square-o fa-lg\\\"></i>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                </tr>\\r\\n\\r\\n            </tbody>\\r\\n        </table>\\r\\n\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/relatorio/pedido/relatario-pedido.component.html\n// module id = ./src/app/pages/relatorio/pedido/relatario-pedido.component.html\n// module chunks = relatorio.module","module.exports = \".table th, .table td {\\n  padding: 0.20rem; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/relatorio/pedido/relatario-pedido.component.scss\n// module id = ./src/app/pages/relatorio/pedido/relatario-pedido.component.scss\n// module chunks = relatorio.module","import { PedidoService } from './../../pedido/pedido.service';\r\nimport { RelatorioService } from './../relatorio.service';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { API_CONFIG } from 'config/core/api.config';\r\nimport { AbstractBaseComponent } from 'config/core/abstract-base.component';\r\n\r\nimport { TrataErrorService } from 'services/trata-error.service';\r\nimport { EventEmitterService } from 'app/shared/event/event-emitter.services';\r\n\r\nimport { PedidoDTO } from 'models/domain/pedido.dto';\r\n\r\n\r\n@Component({\r\n  templateUrl: './relatario-pedido.component.html',\r\n  styleUrls: ['./relatario-pedido.component.scss']\r\n})\r\nexport class RelatorioPedidoComponent extends AbstractBaseComponent implements OnInit {\r\n\r\n  pedido: PedidoDTO;\r\n  items: PedidoDTO[] = [];\r\n\r\n  constructor(\r\n    public pedidoService: PedidoService,\r\n    public relatorioService: RelatorioService,\r\n    public router: Router) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.carregarTodos()\r\n  }\r\n\r\n\r\n\r\n  gerarPDF(pedido: PedidoDTO) {\r\n    this.relatorioService.gerarPdf(pedido)\r\n      .subscribe(\r\n        data => this.openWindows(data),\r\n        error => TrataErrorService.tratarError(error));\r\n\r\n  }\r\n  gerarEtiquetaPDF(pedido: PedidoDTO) {\r\n    this.relatorioService.gerarEtiquetaPdf(pedido)\r\n      .subscribe(\r\n        data => {console.log(data); this.openWindows(data)},\r\n        error => TrataErrorService.tratarError(error));\r\n\r\n  }\r\n\r\n  private carregarTodos() {\r\n    this.pedidoService.findAll().subscribe(\r\n      res => { this.items = res },\r\n      error => TrataErrorService.tratarError(error));\r\n  }\r\n\r\n  private openWindows(data: any) {\r\n    var fileURL = URL.createObjectURL(data);\r\n    window.open(fileURL);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/relatorio/pedido/relatario-pedidocomponent.ts","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RelatorioPedidoComponent } from './pedido/relatario-pedidocomponent';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'pedido/listar',\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: 'pedido',\r\n    data: {\r\n      title: 'pedido'\r\n    },\r\n    children: [\r\n      {\r\n        path: 'listar',\r\n        component: RelatorioPedidoComponent,\r\n        data: {\r\n          title: 'Listar'\r\n        }\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RelatorioRoutingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/relatorio/relatorio-routing.module.ts","import { NgModule, LOCALE_ID } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { SelectModule } from 'ng2-select';\r\nimport { LaddaModule } from 'angular2-ladda';\r\nimport { ModalModule } from 'ng2-bootstrap/modal';\r\n\r\nimport { SharedComponentModule } from './../../shared/shared-component.module';\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\n\r\n\r\nimport { TextMaskModule } from 'angular2-text-mask';\r\nimport { TabsModule } from 'ng2-bootstrap/tabs';\r\n\r\nimport { RelatorioPedidoComponent } from './pedido/relatario-pedidocomponent';\r\n\r\nimport { RelatorioRoutingModule } from './relatorio-routing.module';\r\n\r\nimport { RelatorioService } from './relatorio.service';\r\nimport { PedidoService } from './../pedido/pedido.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ModalModule.forRoot(),\r\n    SharedComponentModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    TabsModule,\r\n    RelatorioRoutingModule,\r\n    LaddaModule,\r\n    TextMaskModule,\r\n    TextMaskModule,\r\n    CurrencyMaskModule\r\n  ],\r\n  declarations: [\r\n    RelatorioPedidoComponent,\r\n  ],\r\n  providers:[\r\n    RelatorioService,\r\n    PedidoService\r\n  ]\r\n})\r\nexport class RelatorioModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/relatorio/relatorio.module.ts","import { API_CONFIG } from './../../../config/core/api.config';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Http, Response, Headers, RequestOptions, URLSearchParams, ResponseContentType } from '@angular/http';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport { AbstractService } from 'config/core/abstract-service';\r\n\r\nimport { PedidoDTO } from 'models/domain/pedido.dto';\r\n\r\n\r\n@Injectable()\r\nexport class RelatorioService extends AbstractService {\r\n\r\n\r\n  url: string = `${API_CONFIG.baseUrl}/relatorio`;\r\n  urlReportPedido: string = `${this.url}/pedido`;\r\n\r\n  constructor(public http: HttpClient) {\r\n    super();\r\n  }\r\n\r\n  gerarPdf(pedido: PedidoDTO): any {\r\n    return this.http.get(`${this.urlReportPedido}/${pedido.id}/pdf`, this.getPDF())\r\n      .map((res) => {\r\n        return new Blob([res], { type: 'application/pdf' })\r\n      })\r\n\r\n  }\r\n\r\n  gerarEtiquetaPdf(pedido: PedidoDTO): any {\r\n    return this.http.get(`${this.urlReportPedido}/${pedido.id}/etiqueta`, this.getPDF())\r\n      .map((res) => {\r\n        return new Blob([res], { type: 'application/pdf' })\r\n      })\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/relatorio/relatorio.service.ts"],"sourceRoot":"webpack:///"}